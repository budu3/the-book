<!DOCTYPE html>
<html>
<head>
<title>todo list</title>
<link href="css/main.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="container">
	<ul>
		<li id="item1" class="item" style="text-decoration:none" onclick="addStrikeThrough()" ><img id="img1" src="images/delete.png" class="del_image" onclick="addRemove()"></img>Don't forget the milk </li>
	</ul>
		<input type="text" id="add-item"></input><input type="submit" id="submit-btn"></input>
</div>
<script>

	//dynamically add an <li> element when the submit button is clicked
	var submitButton = document.getElementById('submit-btn'); //get the submit button
	//attach a function to the submit button
	submitButton.onclick = addItem;

	function addItem(){
		var count = new Date().getTime();
		var textInput = document.getElementById('add-item');
		var item = textInput.value;
		var ul = document.getElementsByTagName('ul');
		var li;
		var img;
		//ul[0].insertAdjacentHTML('beforeend','<li>' + item + '</li>'); 
		ul[0].insertAdjacentHTML('beforeend','<li id="item' + count +'" class="item"><img id="img' + count + '" src="images/delete.png" class="del_image"></img>' + item + '</li>');

		li = document.getElementById('item' + count);
		img = document.getElementById('img' + count);

		li.addEventListener("touchstart", handleStart);
		li.addEventListener("touchmove", handleMove);
		li.addEventListener("touchend", handleEnd);
		
		li.onclick = strikeThrough;
		img.onclick = removeItem;

	}

	function handleStart(event){
		this.style.backgroundColor = "#FFFFCC";
	}

	function handleMove(event){
		this.style.backgroundColor = "#FFCC66";
	}

	function handleEnd(event){
		this.style.backgroundColor = "#FFFFFF";
	}

	function strikeThrough(){
		if (this.style.textDecoration == "none"){
			this.style.textDecoration = "line-through";
		}else{
			this.style.textDecoration = "none";
		}
	}

	function removeItem(){
		this.parentNode.setAttribute("style","display:none");
	}

	
	function addStrikeThrough(){
		document.getElementById("item1").onclick=strikeThrough;
	}

	function addRemove(){
		document.getElementById("img1").onclick=removeItem;
	}
	
</script>
</body>
</html>